@(equations: List[Equation], equationForm: Form[String])(implicit user: service.User)

@import helper._
@import controllers.{EquationHTML => EQ}
 
@main("Equation list") {
    
    <h1>@equations.size equation(s)</h1>
    
    <ul>
        @equations.map { equation =>
            <li>
            	<script type="math/mml"> @Html(equation.equation) </script>
                
                @form(routes.EquationController.deleteEquation(equation.id)) {
                    <input type="submit" value="Delete">
                }
            </li>
        }
    </ul>
    
    <h2>Add a new equation</h2>
    
    <p>
		Type some \(\rm\TeX\) code and press RETURN: <br> 
		<input id="MathInput" size="80" onchange="updateJaxTeX(jax('MathOutput'), this.value)" />
	</p>
 
	<div id="box">
		You typed:<br>
		<div id="MathOutput">$${}$$</div>
	</div>
    
    @form(routes.EquationController.newEquation, 'id -> "equationForm" ) {
    	<input type="hidden" name="@EQ.equation" id="equationMathML">
    	<input type="button" value="Save Equation" onclick="equationFormSubmit()">
    }
    
    <script>
    function equationFormSubmit() {
        toMathML(jax("MathOutput"), function(mathML) {
        	console.log(mathML);
	        $("#equationMathML").val(mathML);
	        $("#equationForm").submit();
        });
        return false;
    }
    </script>
    
}
