@()(implicit user: service.User, session: play.api.db.slick.Config.driver.simple.Session)

@import controllers.organization.routes.OrganizationsController
@import views.html.game.status.gamesStatus
@import models.user.UserPimped
@import viewsupport.organization.AccessName
@import com.artclod.play.s

@defining(user.courses) { courses =>

@majorMinor("EdTech Welcome Page") {
    <h1>@viewsupport.ViewText.welcome</h1>

    <section>
        @tag.tooltip("test", "Test of tooltip")
        <h2>Courses @tag.icon("icon-user7", 'id -> "test")</h2>
        @if(courses.isEmpty) {
        You are not currently associated with any courses.
        } else {
        You are currently associated with the following course@s(courses):


        <ul class="pure-list">
            @for(course <- courses) {<li> @tag.courseLink(course, extra=Some(tag.icon("icon-user7")))  </li>}
        </ul>

        <table class="pure-table pure-table-striped">
            <tr><th>Course</th><th>Association</th><th>Organization</th></tr>
            @for(course <- courses) {
            <tr>
                <td>@tag.courseLink(course)</td>
                <td>@tag.accessName(course.access)</td>
                <td>@tag.organizationLink(course.organization)</td>
            </tr>
            }
        </table>



        }
    </section>

    <section>
        <h2>Organizations</h2>
        To enroll in more courses...
        To see a list of all of the organizations click <a href="@OrganizationsController.list" class="pure-button">here</a>
    </section>
    } {
        @gamesStatus()
    }
}
