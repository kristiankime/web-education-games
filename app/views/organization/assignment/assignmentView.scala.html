@(assignment: models.organization.assignment.Assignment)(implicit user: service.User, session: play.api.db.slick.Config.driver.simple.Session)

@import views.html.tag._
@import controllers.organization.assignment.routes._

@main(assignment.name) {
    @defining(assignment.course) { course =>

        <h1>
            Welcome to the information page for the assignment: @assignment.name
        </h1>

        This assignment is for the Course: @courseLink(course) <br>

        @* ===== Start and end dates ===== *@
        @assignment.startAndEnd match {
            case (Some(start), Some(end)) => {This assignment starts on @datetime(start) and ends on @datetime(end)<br>}
            case (Some(start), None) => {This assignment starts on @datetime(start)<br>}
            case (None, Some(end)) => {This assignment ends on @datetime(end)<br>}
            case (None, None) => {}
        }
        @* ===== Groups ===== *@
        @defining(course.sections) { sections =>
            This course for this assignment @if(sections.isEmpty) {has no sections} else {has the following sections:
                <ul>
                @for(section <- sections) {
                    <li> [ <a href="@AssignmentsController.viewSection(course.id, section.id, assignment.id)">@assignment.name</a> ]</li>
                    @defining(section.groups(assignment.id)) { groups =>
                        This section @if(groups.isEmpty) {has no groups} else {has the following groups:
                        <ul>
                            @for(group <- groups){
                                <li> [ <a href="@GroupsController.view(course.id, section.id, assignment.id, group.id)">@group.name</a> ]</li>
                            }
                        </ul>
                        }
                    }
                }
                </ul>
            }
        }

    }
}
