@(organization: models.organization.Organization, course: models.organization.Course)(implicit user: service.User, session: play.api.db.slick.Config.driver.simple.Session)

@import com.artclod.play.s
@import com.artclod.play.plural
@import helper._
@import service._
@import views.html.tag._
@import viewsupport.organization._
@import controllers.organization.CourseJoin
@import controllers.organization.routes._
@import controllers.question.derivative.routes._

@main(course.name) {
    <h2>Welcome to the information page for the course: @course.name</h2>
    @* ======= Role ======= *@
    @if(course.access > Non) {
        <section>
            <h5> You are assigned to this course as a(n): @AccessName(course.access) </h5>
        </section>
    }
    @* ======= Access Codes ======= *@
    @if(course.access >= Own) {
        <section>
            <h5> Teacher Access Code: @course.editCode </h5>
        </section>
    }
    @* ======= Sign up ======= *@
    @if(course.access <= Non) {
        <section>
            <h5> If you need to sign up as a teacher please input your code here: </h5>
            @form(action = CoursesController.join(course.organizationId, course.id)) {
                <input type="text" name="@CourseJoin.code" placeholder="code goes here"> <br>
                <input type="submit" value="Submit">
                }
        </section>
    }
    @* ======= Sections =======
    <section>
        @defining(course.sections) { sections =>
            @if(sections.isEmpty) {
                <h5> There are no sections for this course </h5>
            } else {
                <h5> The course has the following section@s(sections): </h5>

                <ul>
                @for(section <- sections) {
                    <li> [ <a href="@SectionsController.view(section.courseId, section.id)">@section.name</a> ] @accessName(section.access) </li>
                }
                </ul>
            }
            @if(course.access.write) { [ <a href="@SectionsController.add(course.id)">add a section</a> ] }
        }
    </section>  *@
    @* ======= Assignments =======
    @if(course.access > Non) {
        <section>
        @defining(course.assignments) { assignments =>
            @if(assignments.isEmpty) {
                <h5> There are no assignments for this course </h5>
            } else {
                <h5> The course has the following assignment@s(assignments): </h5>
                <ul>
                @for(assignment <- assignments) {
                    <li> [ <a href="@AssignmentsController.view(course.id, assignment.id)"> @assignment.name </a> ] </li>
                }
                </ul>
            }
        }
        @if(course.access.write) { [ <a href="@AssignmentsController.add(course.id)">add an assignment</a> ] }
        </section>
    }*@
    @* ======= Quizzes ======= *@
    @if(course.access > Non) {
        <section>
        @defining(course.quizzes) { quizzes =>
            @if(quizzes.isEmpty) {
                <h5> There are no quizzes for this course </h5>
            } else {
                <h5> The course has the following quiz@plural(quizzes){zes}: </h5>
                <ul>
                @for(quiz <- quizzes) {
                    <li> [ <a href="@QuizzesController.view(course.organizationId, course.id, quiz.id)">@quiz.name</a> ] </li>
                }
                </ul>
            }
        }
        @if(course.access.write) { [ <a href="@QuizzesController.createForm(course.organizationId, course.id)">add a quiz</a> ] }
        </section>
    }

}
