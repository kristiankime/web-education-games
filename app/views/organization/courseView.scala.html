@(organization: models.organization.Organization, course: models.organization.Course)(implicit user: service.User, session: play.api.db.slick.Config.driver.simple.Session)

@import com.artclod.play._
@import helper._
@import service._
@import views.html.tag._
@import viewsupport.organization._
@import viewsupport.organization.AccessName.an
@import controllers.organization.CourseJoin
@import controllers.organization.routes._
@import controllers.question.derivative.routes._

@main(course.name) {
    <h2>Welcome to the information page for the course: @course.name</h2>
    @* ======= Role ======= *@
    @if(course.access > Non) {
    <section>
        <h5> You are assigned to this course as @an(course.access) </h5>
    </section>
    }
    @* ======= Access Codes ======= *@
    @if(course.access >= Edit) {
    <section>
        <h5> Teacher Access Code: @course.editCode </h5>
        <h5> Student Access Code: @course.viewCode </h5>
    </section>
    }
    @* ======= Sign up ======= *@
    @if(course.access <= Non) {
    <section>
        <h5> If you need to sign up as a teacher please input your code here: </h5>
        @form(action = CoursesController.join(course.organizationId, course.id)) {
            <input type="text" name="@CourseJoin.code" placeholder="code goes here"> <br>
            <input type="submit" value="Submit">
            }
    </section>
    }
    @* ======= Quizzes ======= *@
    @if(course.access > Non) {
    @defining(course.quizzes) { quizzes =>
    <section>
        @if(quizzes.isEmpty) {
        <h5> There are no quizzes for this course </h5>
        } else {
        <h5> The course has the following quiz@zes(quizzes): </h5>
        <ul>
            @for(quiz <- quizzes) { <li> [ <a href="@QuizzesController.view(course.organizationId, course.id, quiz.id)">@quiz.name</a> ] </li>}
        </ul>
        }
         @if(course.access.write) { [ <a href="@QuizzesController.createForm(course.organizationId, course.id)"> add a quiz</a> ] }
    </section>
    }
    }
}

