# --- Created by Slick DDL
# To stop Slick DDL generation, remove this comment and start using Evolutions

# --- !Ups

create table "derivative_question_answers" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"question_id" BIGINT NOT NULL,"mathml" VARCHAR NOT NULL,"rawstr" VARCHAR NOT NULL,"synched" BOOLEAN NOT NULL,"correct" BOOLEAN NOT NULL);
create table "derivative_question_set_links" ("question_id" BIGINT NOT NULL,"question_set_id" BIGINT NOT NULL);
alter table "derivative_question_set_links" add constraint "derivative_question_set_links_pk" primary key("question_id","question_set_id");
create table "derivative_question_sets" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"name" VARCHAR NOT NULL);
create table "derivative_questions" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"mathml" VARCHAR NOT NULL,"rawstr" VARCHAR NOT NULL,"synched" BOOLEAN NOT NULL);
create table "equations" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"equation" VARCHAR NOT NULL);
alter table "derivative_question_answers" add constraint "question_fk" foreign key("question_id") references "derivative_questions"("id") on update NO ACTION on delete CASCADE;
alter table "derivative_question_set_links" add constraint "derivative_question_set_links_question_fk" foreign key("question_id") references "derivative_questions"("id") on update NO ACTION on delete CASCADE;
alter table "derivative_question_set_links" add constraint "derivative_question_set_links_question_set_fk" foreign key("question_set_id") references "derivative_question_sets"("id") on update NO ACTION on delete CASCADE;

# --- !Downs

alter table "derivative_question_answers" drop constraint "question_fk";
alter table "derivative_question_set_links" drop constraint "derivative_question_set_links_question_fk";
alter table "derivative_question_set_links" drop constraint "derivative_question_set_links_question_set_fk";
drop table "derivative_question_answers";
alter table "derivative_question_set_links" drop constraint "derivative_question_set_links_pk";
drop table "derivative_question_set_links";
drop table "derivative_question_sets";
drop table "derivative_questions";
drop table "equations";

