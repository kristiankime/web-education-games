# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Remove trailing /'s from paths 
GET         /*path/                                                       controllers.Application.untrail(path: String)

# Consent Form
GET         /consent                                                      controllers.Consent.consent(goTo: Option[String], error: Option[String])
POST        /consent                                                      controllers.Consent.consentSubmit(goTo: Option[String])
GET         /noconsent                                                    controllers.Consent.noConsent

# Home page
GET         /                                                             controllers.Home.index
GET         /user                                                         controllers.Home.userInfo

# Organizations
GET         /orgs                                                         controllers.organization.OrganizationsController.list
GET         /orgs/:o                                                      controllers.organization.OrganizationsController.view(o: OrganizationId)

# Courses
GET         /orgs/:o/courses                                              controllers.organization.CoursesController.list(o: OrganizationId)
GET         /orgs/:o/courses/create                                       controllers.organization.CoursesController.createForm(o: OrganizationId)
POST        /orgs/:o/courses                                              controllers.organization.CoursesController.createSubmit(o: OrganizationId)
GET         /orgs/:o/courses/:c                                           controllers.organization.CoursesController.view(o: OrganizationId, c: CourseId)
POST        /orgs/:o/courses/:c/join                                      controllers.organization.CoursesController.join(o: OrganizationId, c: CourseId)

# Course Quizzes
GET         /orgs/:o/courses/:c/quizzes/create                            controllers.question.derivative.QuizzesController.createForm(o: OrganizationId, c: CourseId)
POST        /orgs/:o/courses/:c/quizzes                                   controllers.question.derivative.QuizzesController.createSubmit(o: OrganizationId, c: CourseId)
GET         /orgs/:o/courses/:c/quizzes/:z                                controllers.question.derivative.QuizzesController.view(o: OrganizationId, c: CourseId, z: QuizId)
POST        /orgs/:o/courses/:c/quizzes/:z/rename                         controllers.question.derivative.QuizzesController.rename(o: OrganizationId, c: CourseId, z: QuizId)

# Course Quizzes Questions
GET         /orgs/:o/courses/:c/quizzes/:z/questions/:q                   controllers.question.derivative.QuestionsController.view(o: OrganizationId, c: CourseId, z: QuizId, q: QuestionId)
POST        /orgs/:o/courses/:c/quizzes/:z/questions                      controllers.question.derivative.QuestionsController.create(o: OrganizationId, c: CourseId, z: QuizId)
POST        /orgs/:o/courses/:c/quizzes/:z/questions/:q/remove            controllers.question.derivative.QuestionsController.remove(o: OrganizationId, c: CourseId, z: QuizId, q: QuestionId)

# Course Quizzes Answers
GET         /orgs/:o/courses/:c/quizzes/:z/questions/:q/answers/:n        controllers.question.derivative.AnswersController.view(o: OrganizationId, c: CourseId, z: QuizId, q: QuestionId, n: AnswerId)
POST        /orgs/:o/courses/:c/quizzes/:z/questions/:q/answers           controllers.question.derivative.AnswersController.create(o: OrganizationId, c: CourseId, z: QuizId, q: QuestionId)

# Course Games
GET         /orgs/:o/courses/:c/games/find                                controllers.game.GamesController.findPlayer(o: OrganizationId, c: CourseId)
POST        /orgs/:o/courses/:c/games/request                             controllers.game.GamesController.requestGame(o: OrganizationId, c: CourseId)
GET         /orgs/:o/courses/:c/games/:g                                  controllers.game.GamesController.game(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/respond                          controllers.game.GamesController.respond(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requestorCreate                  controllers.game.GamesRequestorController.create(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requestorRemove                  controllers.game.GamesRequestorController.remove(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requestorQuizDone                controllers.game.GamesRequestorController.quizDone(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requestorAnswered                controllers.game.GamesRequestorController.answeringDone(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requesteeCreate                  controllers.game.GamesRequesteeController.create(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requesteeRemove                  controllers.game.GamesRequesteeController.remove(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requesteeQuizDone                controllers.game.GamesRequesteeController.quizDone(o: OrganizationId, c: CourseId, g: GameId)
POST        /orgs/:o/courses/:c/games/:g/requesteeAnswered                controllers.game.GamesRequesteeController.answeringDone(o: OrganizationId, c: CourseId, g: GameId)

# ======== START DEPRICATED ========
# Equation pages
GET         /equation                                                     controllers.EquationController.equations
POST        /equation                                                     controllers.EquationController.newEquation
POST        /equation/:id/delete                                          controllers.EquationController.deleteEquation(id: Long)
# ======== END DEPRICATED ========

# ======== START Routes for Secure Social ========
# Login page
GET         /login                                                        securesocial.controllers.LoginPage.login
GET         /logout                                                       securesocial.controllers.LoginPage.logout
# User Registration and password handling 
GET         /signup                                                       securesocial.controllers.Registration.startSignUp
POST        /signup                                                       securesocial.controllers.Registration.handleStartSignUp
GET         /signup/:token                                                securesocial.controllers.Registration.signUp(token)
POST        /signup/:token                                                securesocial.controllers.Registration.handleSignUp(token)
GET         /reset                                                        securesocial.controllers.Registration.startResetPassword
POST        /reset                                                        securesocial.controllers.Registration.handleStartResetPassword
GET         /reset/:token                                                 securesocial.controllers.Registration.resetPassword(token)
POST        /reset/:token                                                 securesocial.controllers.Registration.handleResetPassword(token)
GET         /password                                                     securesocial.controllers.PasswordChange.page
POST        /password                                                     securesocial.controllers.PasswordChange.handlePasswordChange
# Providers entry points
GET         /authenticate/:provider                                       securesocial.controllers.ProviderController.authenticate(provider)
POST        /authenticate/:provider                                       securesocial.controllers.ProviderController.authenticateByPost(provider)
GET         /not-authorized                                               securesocial.controllers.ProviderController.notAuthorized
# ======== END Routes for Secure Social ========

# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file                                                 controllers.Assets.at(path="/public", file)

# If a path is not valid backtrack until we hit something that is
GET         /*path                                                        controllers.Application.backTrack(path: String)
